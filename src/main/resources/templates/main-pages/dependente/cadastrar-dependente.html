<!DOCTYPE html>
<html xmlns:layout="http://www.w3.org/1999/xhtml" xmlns:th="http://www.w3.org/1999/xhtml" layout:decorate="~{layout}">

<head>
  <meta charset="UTF-8">
  <title>Document</title>
  <link rel="stylesheet" th:href="~{}" th:fragment="css">
  <style>
  </style>
</head>

<body>

  <main class="container mt-4" layout:fragment="main">
    <h2 class="">Cadastrar dependente</h2>

    <div class="alert alert-success alert-dismissible fade show" th:if="${mensagem}">
      <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
      <span th:text="${mensagem}"></span>
    </div>

    <form action="#" th:action="${id == null} ? @{/dependente/salvar} : @{/dependente/atualizar/{id}(id=${id})}"
      th:object="${dependente}" method="post" id="formCadastrar">

      <div class="mb-5" name="Cadastro_Principal">

        <div class="row mb-2">
          <div class="col-sm-3">
            <label class="form-label">CPF <span>*</span></label>
            <input th:id="@{cpf}" th:field="*{cpf}" type="text" class="form-control" maxlength="14"
              autocomplete="off" />
            <span class="blink-1" th:if="${#fields.hasErrors('cpf')}" th:errors="*{cpf}"></span>
          </div>
          <div class="col">
            <label class="form-label">Nome <span>*</span></label>
            <input th:id="@{nome}" th:field="*{nome}" type="text" class="form-control" />
            <span class="blink-1" th:if="${#fields.hasErrors('nome')}" th:errors="*{nome}"></span>
          </div>
        </div>

        <div class="row mb-5">

          <div class="col-sm-3">
            <label class="form-label">Data Nascimento <span>*</span></label>
            <input th:id="@{dataNascimento}" th:field="*{dataNascimento}" type="date" class="form-control" />
            <span class="blink-1" th:if="${#fields.hasErrors('dataNascimento')}" th:errors="*{dataNascimento}"></span>
          </div>

          <div class="col-sm-3 d-flex flex-column">
            <label class="form-label">Sexo <span>*</span></label>
            <select th:id="@{sexo}" th:field="*{sexo}" class="form-select">
              <option selected th:value="${null}">Escolha um sexo</option>
              <option th:each="sexo : ${listaSexo}" th:value="${sexo.id}" th:text="${sexo.descricao}" name="sexo">
              </option>
            </select>
            <span class="blink-1" th:if="${#fields.hasErrors('sexo')}" th:errors="*{sexo}"></span>
          </div>

          <div class="col d-flex flex-column">
            <label class="form-label">Tipo Dependente <span>*</span></label>
            <select th:id="@{tipoDependente}" th:field="*{tipoDependente}" class="form-select">
              <option selected th:value="${null}">Escolha um tipo</option>
              <option th:each="tipo : ${listaTipo}" th:value="${tipo.id}" th:text="${tipo.descricao}" name="tipo">
              </option>
            </select>
            <span class="blink-1" th:if="${#fields.hasErrors('tipoDependente')}" th:errors="*{tipoDependente}"></span>
          </div>

        </div>

        <h4 class="">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
            class="bi bi-caret-down-fill" viewBox="0 0 16 16">
            <path
              d="M7.247 11.14 2.451 5.658C1.885 5.013 2.345 4 3.204 4h9.592a1 1 0 0 1 .753 1.659l-4.796 5.48a1 1 0 0 1-1.506 0z" />
          </svg>
          Pessoa com deficiência
        </h4>

        <div class="row">

          <div class="col">
            <div class="form-check-label">
              <h6>Deficiência Fisica <span>*</span></h4>
                <input type="radio" class="form-check-input" th:field="*{deficiencias.deficienciaFisica}"
                  th:value="${true}" />
                <label for="" class="me-3">Sim</label>
                <input type="radio" class="form-check-input" th:field="*{deficiencias.deficienciaFisica}"
                  th:value="${false}" />
                <label for="">Não</label>
            </div>
            <label id="deficiencias.deficienciaFisica-error" class="error" for="deficiencias.deficienciaFisica"></label>
          </div>

          <div class="col">
            <div class="form-check-label">
              <h6>Deficiência Visual <span>*</span></h4>
                <input type="radio" class="form-check-input" th:field="*{deficiencias.deficienciaVisual}"
                  th:value="${true}" />
                <label for="" class="me-3">Sim</label>
                <input type="radio" class="form-check-input" th:field="*{deficiencias.deficienciaVisual}"
                  th:value="${false}" />
                <label for="">Não</label>
            </div>
            <label id="deficiencias.deficienciaVisual-error" class="error" for="deficiencias.deficienciaVisual"></label>
          </div>

          <div class="col">
            <div class="form-check-label">
              <h6>Deficiência Auditiva <span>*</span></h4>
                <input type="radio" class="form-check-input" th:field="*{deficiencias.deficienciaAuditiva}"
                  th:value="${true}" />
                <label for="" class="me-3">Sim</label>
                <input type="radio" class="form-check-input" th:field="*{deficiencias.deficienciaAuditiva}"
                  th:value="${false}" />
                <label for="">Não</label>
            </div>
            <label id="deficiencias.deficienciaAuditiva-error" class="error"
              for="deficiencias.deficienciaAuditiva"></label>
          </div>

          <div class="col">
            <div class="form-check-label">
              <h6>Deficiência Mental <span>*</span></h4>
                <input type="radio" class="form-check-input" th:field="*{deficiencias.deficienciaMental}"
                  th:value="${true}" />
                <label for="" class="me-3">Sim</label>
                <input type="radio" class="form-check-input" th:field="*{deficiencias.deficienciaMental}"
                  th:value="${false}" />
                <label for="">Não</label>
            </div>
            <label id="deficiencias.deficienciaMental-error" class="error" for="deficiencias.deficienciaMental"></label>
          </div>

        </div>

        <div class="row">

          <div class="col">
            <div class="form-check-label">
              <h6>Deficiência Intelectual <span>*</span></h4>
                <input type="radio" class="form-check-input" th:field="*{deficiencias.deficienciaIntelectual}"
                  th:value="${true}" />
                <label for="" class="me-3">Sim</label>
                <input type="radio" class="form-check-input" th:field="*{deficiencias.deficienciaIntelectual}"
                  th:value="${false}" />
                <label for="">Não</label>
            </div>
            <label id="deficiencias.deficienciaIntelectual-error" class="error"
              for="deficiencias.deficienciaIntelectual"></label>
          </div>

          <div class="col">
            <div class="form-check-label">
              <h6>Reabilitado ou Readaptado <span>*</span></h4>
                <input type="radio" class="form-check-input" th:field="*{deficiencias.reabilitado}"
                  th:value="${true}" />
                <label for="" class="me-3">Sim</label>
                <input type="radio" class="form-check-input" th:field="*{deficiencias.reabilitado}"
                  th:value="${false}" />
                <label for="">Não</label>
            </div>
            <label id="deficiencias.reabilitado-error" class="error" for="deficiencias.reabilitado"></label>
          </div>

          <div class="col">
            <div class="form-check-label">
              <h6>Preenche Cota </h4>
                <input type="radio" class="form-check-input" th:field="*{deficiencias.cota}" th:value="${true}" />
                <label for="" class="me-3">Sim</label>
                <input type="radio" class="form-check-input" th:field="*{deficiencias.cota}" th:value="${false}" />
                <label for="">Não</label>
            </div>
          </div>
          <div class="col"></div>

        </div>

        <div class="row">
          <div class="col">
            <label for="@{deficiencias.observacao}">Observação</label>
            <textarea class="form-control" th:field="*{deficiencias.observacao}" th:id="@{deficiencias.observacao}"
              rows="3"></textarea>
          </div>
        </div>

        <div class="col">
          <input type="submit" class="w-100 btn btn-primary btn-lg mt-3"
            th:value="${id == null} ? 'Cadastrar' : 'Editar'" id="submeter" />
        </div>

    </form>

    </div>
  </main>
</body>

<script type="text/javascript" th:fragment="js"></script>
<div th:insert="/scripts/dependente/cadastrar-script :: cadastrar-dependente" layout:fragment="script"></div>
<script type="text/javascript" th:fragment="js">
  $('#submeter').click(function () {
    if (!($('#formCadastrar').valid())) {
      Swal.fire({
        icon: 'info',
        title: 'Insira as informações corretamente!',
      })
    }
  })
  $(document).ready(function () {
    $('#cadastrar').addClass('active');
  })
</script>

<script language="javascript">




</script>

</html>